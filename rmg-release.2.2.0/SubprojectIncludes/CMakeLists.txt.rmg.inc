if(USE_NUMA_INTERNAL)
target_link_libraries(${rmg} ${NUMA_LIBRARIES})
endif(USE_NUMA_INTERNAL)
if(USE_LIBXC)
add_dependencies(${rmg} libxc)
target_link_libraries(${rmg} ${LIBXC_LIBRARIES})
endif(USE_LIBXC)
add_dependencies(${rmg} libspg)
target_link_libraries( ${rmg} ${LIBSPG_LIBRARIES})
# static libraries are created for the object files in each subdir. Duplicates
# are needed to handle circular references
target_link_libraries( ${rmg} RmgLib)
if(USE_NUMA_INTERNAL)
target_link_libraries( ${rmg} RMG_Common ${NUMA_LIBRARIES})
endif(USE_NUMA_INTERNAL)
target_link_libraries( ${rmg} InternalPseudo)
target_link_libraries( ${rmg} Finite_diff RMG_Common RmgLib ${ZLIB} ${FFTW_LIBRARIES})
target_link_libraries( ${rmg} Misc RMG_Common Finite_diff)
target_link_libraries( ${rmg} RMG_Common Force)
target_link_libraries( ${rmg} Force RMG_Common)
target_link_libraries( ${rmg} Input InternalPseudo)
target_link_libraries( ${rmg} MG RMG_Common RmgLib)
target_link_libraries( ${rmg} RMG_Common RmgLib MG)
target_link_libraries( ${rmg} Finite_diff Misc)
target_link_libraries( ${rmg} Misc Finite_diff)
target_link_libraries( ${rmg} Input)
if(USE_LIBXC)
target_link_libraries( ${rmg} XC XC1 ${LIBXC_LIBRARIES} ${LIBXC_LIBRARIES_F90})
target_link_libraries( ${rmg} XC XC1 ${LIBXC_LIBRARIES_F90} ${LIBXC_LIBRARIES})
target_link_libraries( ${rmg} XC Misc)
target_link_libraries( ${rmg} XC Finite_diff)
target_link_libraries( ${rmg} XC RmgLib)
target_link_libraries( ${rmg} XC RMG_Spin)
else(USE_LIBXC)
target_link_libraries( ${rmg} XC1)
target_link_libraries( ${rmg} XC1)
endif(USE_LIBXC)
target_link_libraries( ${rmg} RMG_Spin)
target_link_libraries( ${rmg} US_PP Input)
target_link_libraries( ${rmg} RMG_Common US_PP)
target_link_libraries( ${rmg} US_PP RMG_Common)
target_link_libraries( ${rmg} Force)
target_link_libraries( ${rmg} Force US_PP)
target_link_libraries( ${rmg} US_PP Force)
target_link_libraries( ${rmg} RMG_Subdiag Finite_diff RMG_Common ${MAGMA_LIBRARIES})
target_link_libraries( ${rmg} RMG_Subdiag Misc)
target_link_libraries( ${rmg} ${FFTW_LIBRARIES} )
if(USE_PLPLOT_LIBS)
    target_link_libraries( ${rmg} ${PLplot_cxx_LIBRARY} ${PLplot_LIBRARY} )
    target_link_libraries( ${rmg} Misc ${PLplot_LIBRARY})
endif(USE_PLPLOT_LIBS)
if(CRAY_XK)
    target_link_libraries( ${rmg} ${BZ2_LIBRARIES})
endif(CRAY_XK)
target_link_libraries( ${rmg} ${Boost_LIBRARIES})
if(USE_OPENBABEL_LIBS)
    target_link_libraries( ${rmg} ${OPENBABEL_LIBRARIES})
endif(USE_OPENBABEL_LIBS)

